var ROSQUEUE=ROSQUEUE||{REVISION:"0.0.1-SNAPSHOT"};ROSQUEUE.RosQueue=function(a){console.log(a),a=a||{},this.ros=a.ros,this.userId=a.userId,this.dequeuePub=new ROSLIB.Topic({ros:this.ros,name:"rms_dequeue",messageType:"std_msgs/Int32"}),this.dequeuePub.advertise(),this.enqueuePub=new ROSLIB.Topic({ros:this.ros,name:"rms_enqueue",messageType:"std_msgs/Int32"}),this.enqueuePub.advertise(),this.queueSub=new ROSLIB.Topic({ros:this.ros,name:"rms_queue",messageType:"rms_queue_manager/RMSQueue"}),this.popFrontSub=new ROSLIB.Topic({ros:this.ros,name:"rms_pop_front",messageType:"std_msgs/Int32"}),this.queueSub.subscribe=function(a){console.log("RMSQueue"+a);for(var b={},c=a.queue.length;c--;)this.userId===a.queue[c].user_id&&(b.position=c,0===c?b.active=!0:(b.active=!1,b.wait=a.queue[c].wait_time.secs));this.onQueueUpdate(b)},this.popFrontSub.subscribe=function(a){var b=a.data;this.userId===b&&this.dequeue()}},ROSQUEUE.RosQueue.prototype.enqueue=function(){console.log("enqueue"),this.enqueuePub.publish(new ROSLIB.Message({data:this.userId}))},ROSQUEUE.RosQueue.prototype.dequeue=function(){console.log("dequeue"),this.dequeuePub.publish(new ROSLIB.Message({data:this.userId}))},ROSQUEUE.RosQueue.prototype.onTimeout=function(){console.log("onTimeout")},ROSQUEUE.RosQueue.prototype.onQueueUpdate=function(){console.log("queue update")};